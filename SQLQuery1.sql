CREATE DATABASE QLSV_DB

USE QLSV_DB

CREATE TABLE KHOA (
    MaKhoa NVARCHAR(20) PRIMARY KEY,
    TenKhoa NVARCHAR(100) NOT NULL
)

CREATE TABLE MONHOC (
    MaMH NVARCHAR(20) PRIMARY KEY,
    TenMH NVARCHAR(100) NOT NULL,
    SoTinChi INT DEFAULT 3
)

CREATE TABLE LOP (
    MaLop NVARCHAR(20) PRIMARY KEY,
    TenLop NVARCHAR(100) NOT NULL,
    MaKhoa NVARCHAR(20) REFERENCES KHOA(MaKhoa)
)


CREATE TABLE SINHVIEN (
    MaSV NVARCHAR(20) PRIMARY KEY,
    HoTen NVARCHAR(100) NOT NULL,
    NgaySinh DATE,
    GioiTinh NVARCHAR(10),
    QueQuan NVARCHAR(200),
    MaLop NVARCHAR(20) REFERENCES LOP(MaLop)
)

CREATE TABLE KETQUA (
    MaSV NVARCHAR(20) REFERENCES SINHVIEN(MaSV),
    MaMH NVARCHAR(20) REFERENCES MONHOC(MaMH),
    DiemSo FLOAT,
    PRIMARY KEY (MaSV, MaMH) 
)

CREATE TABLE ACCOUNT (
    UserName VARCHAR(100) PRIMARY KEY,
    DisplayName NVARCHAR(100) NOT NULL,
    PassWord VARCHAR(1000) NOT NULL, 
    Type INT DEFAULT 0 -- 1: Admin, 0: Staff
)


----------------------------------------------------------------------
-- NH?P D? LI?U M?U 
----------------------------------------------------------------------

-- KHOA
INSERT INTO KHOA VALUES ('CNTT', N'Công ngh? thông tin')
INSERT INTO KHOA VALUES ('KT', N'Kinh t?')
INSERT INTO KHOA VALUES ('NN', N'Ngo?i ng?')
INSERT INTO KHOA VALUES ('QTKD', N'Qu?n tr? kinh doanh')

-- L?P
INSERT INTO LOP VALUES ('K11', N'L?p 11 - CNTT', 'CNTT')
INSERT INTO LOP VALUES ('K12', N'L?p 12 - Kinh t?', 'KT')
INSERT INTO LOP VALUES ('K13', N'L?p 13 - Ngo?i ng?', 'NN')

-- MÔN H?C
INSERT INTO MONHOC VALUES ('CSDL', N'C? s? d? li?u', 3)
INSERT INTO MONHOC VALUES ('CTDLGT', N'C?u trúc d? li?u & GT', 4)
INSERT INTO MONHOC VALUES ('THDC', N'Tin h?c ??i c??ng', 4)
INSERT INTO MONHOC VALUES ('LTC', N'L?p trình C#', 3)
INSERT INTO MONHOC VALUES ('CTRR', N'C?u trúc r?i r?c', 3)

-- SINH VIÊN 
INSERT INTO SINHVIEN VALUES ('SV001', N'Nguy?n V?n A', '1986-01-27', N'Nam', N'Tp.HCM', 'K11')
INSERT INTO SINHVIEN VALUES ('SV002', N'Tr?n Ng?c Hân', '1986-03-14', N'N?', N'Kiên Giang', 'K11')
INSERT INTO SINHVIEN VALUES ('SV003', N'Hà Duy L?p', '1986-04-18', N'Nam', N'Ngh? An', 'K11')
INSERT INTO SINHVIEN VALUES ('SV004', N'Tr?n Ng?c Linh', '1986-03-30', N'N?', N'Tây Ninh', 'K12')
INSERT INTO SINHVIEN VALUES ('SV005', N'Lê Nh?t Minh', '1986-01-24', N'Nam', N'Tp.HCM', 'K12')
INSERT INTO SINHVIEN VALUES ('SV006', N'Nguy?n Th? Kim Cúc', '1986-09-06', N'N?', N'Kiên Giang', 'K13')

-- K?T QU? THI
INSERT INTO KETQUA VALUES ('SV001', 'CSDL', 8.5)
INSERT INTO KETQUA VALUES ('SV001', 'LTC', 9.0)
INSERT INTO KETQUA VALUES ('SV002', 'CSDL', 5.0)
INSERT INTO KETQUA VALUES ('SV003', 'THDC', 7.5)
INSERT INTO KETQUA VALUES ('SV004', 'CTRR', 6.0)

-- TÀI KHO?N (M?t kh?u m?c ??nh: 1)
INSERT INTO ACCOUNT VALUES ('admin', N'Qu?n tr? viên', '1', 1)
INSERT INTO ACCOUNT VALUES ('staff', N'Nhân viên', '1', 0)

